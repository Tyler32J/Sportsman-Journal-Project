{% extends 'base.html' %}
{% load static %}

{% block title %}Photo Gallery{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'home.css' %}">
    <link rel="stylesheet" href="{% static 'slideshow.css' %}">
{% endblock %}

{% block content %}
    <h1>Sportsman's Journal Photo Gallery!</h1>
    
      <button class=""><a href="{% url 'post' %}">View Gallery</a></button>


    <div class="slideshow"></div>
   

        {% for post in posts %}

            <div class= "post_card">
                <h1> {{post.title}} </h1>
                <p> {{post.location}} </p>
                <p> {{post.date}} </p>
                {% if post.hunting_choices != "none" %}
                    <p>{{ post.get_hunting_choices_display }}</p>
                {% endif %}

                {% if post.fishing_choices != "none" %}
                    <p>{{ post.get_fishing_choices_display }}</p>
                    <p>{{ post.get_fishing_zone_choices_display }}</p>
                {% endif %}
                <p>{{post.quantity}}</p>
                <img src="{{ post.picture.url }}" width="300">
                <p> {{post.description}} </p>
                <h3> {{post.user}} </h3>

                <a href="{% url 'edit_post' post.id %}">
                    <button id="edit">Edit</button>
                </a>
                <form method="POST" action="{% url 'delete_post' post.id %}">
                    {% csrf_token %}
                    <button type="submit"
                        onclick="return confirm('Are you sure you want to delete this post?');">
                        Delete
                    </button>
                </form>
            </div>
            
        
        {% empty %}
            <p>No photos uploaded yet.</p>
        {% endfor %}

    <script>
        function switchToEdit() {
            const title = document.getElementById("edit");
            title.textContent = title.textContent === "Create" ? "Edit" : "Create";
        }
    </script>

    

{% endblock %}
